<!DOCTYPE html>
<html lang="en">

<head>
    <title>Todo</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href=" https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="todoStyles.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body background="background(Project-1).jpg">
    <script>
        function addTask() {
            return {
                tasks: [],
                message:"",
                saveTask() {
                   let task = {
                    name: this.message,
                    status: false,
                    id: crypto.randomUUID(),
                    time: new Date(),
                    imp: '☆'
                    }
                this.tasks.push(task);
                this.message = ""
                },
                deleteTask(index) {
                    this.tasks.splice(index, 1)
                },
                changeImportant() {
                    
                }
            }
        }
    </script>
    <div class="p-2 container-fluid text-uppercase fs-1 fw-bold rounded text-white"
    style="text-align: center; margin-top: 3%; width: 25%">
    Todo list
  </div>
    <div x-data="addTask()">
    <div class="d-flex flex-row justify-content-center">
        <input type="text" x-model="message" class="p-2 rounded border border-black form-control fw-bold addinput"
        id="textinput"
        autocomplete="off"
        @keyup.enter="saveTask()">
        <button @click="saveTask()" class="bg-warning rounded btn fw-bold addbtn" id="addtask">Add</button>
    </div>
    <template x-for="(task, index) in tasks" :key="index">
        <div class="taskbg d-flex align-items-stretch">
            <div class="d-flex taskbody d-flex mt-4 align-items-center w-100 bg-warning">
                <input type="checkbox" name="taskcheck" class="taskcheck form-check-input d-flex mt-0">
                <div x-text="task.name" contenteditable="true" class="tasktext form-control fs-5"></div>
                <button x-text="task.imp" class="taskimportant d-flex btn fs-2"></button>
                <div x-text="task.time.toLocaleString()" class="tasktime fw-medium"></div>
                <button class="taskdelete d-flex btn btn-light" @click="deleteTask(index)">✖</button>
            </div>
       </div>
    </template>
 </div>
</body>

</html>
